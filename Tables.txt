CREATE DATABASE EcommerceDatabase;
use EcommerceDatabase;

CREATE TABLE customer(
id int auto_increment primary key,
name VARCHAR(255) not null,
email VARCHAR(100) UNIQUE,
address VARCHAR(255)
);

CREATE TABLE orders(
id int auto_increment primary key,
customer_id INT,
order_date DATE,
totalAmount DECIMAL(10,2),
FOREIGN KEY (customer_id) REFERENCES customer(id)
);

CREATE TABLE products(
id int auto_increment primary key,
name VARCHAR(100) not null,
price DECIMAL(10,2),
description TEXT
);

INSERT INTO customer(name,email,address) VALUES
('joe','joe@gmail.com','123 main st'),
('gayu','gayu@gmail.com','456 oak st'),
('priya','priya@gmail.com','789 scl st');

SELECT * FROM customer;

INSERT INTO products(name,price,description) VALUES
 ("product A",2500,"Product A description"),
 ("product B",3500,"Product B description"),
 ("product C",4500,"Product C description");
 
 SELECT * FROM products;

INSERT INTO orders(customer_id,order_date,totalAmount) VALUES
(1, curdate(),100.00),
(2, curdate()-interval 10 day, 200.00),
(1, curdate()-interval 40 day , 150.00);

SELECT * FROM orders;

CREATE TABLE order_items (
    id INT AUTO_INCREMENT PRIMARY KEY,
    order_id INT,
    product_id INT,
    quantity INT,
    FOREIGN KEY (order_id) REFERENCES orders(id),
    FOREIGN KEY (product_id) REFERENCES products(id)
);

INSERT INTO order_items(order_id, product_id, quantity) VALUES
(1, 1, 1),  
(2, 2, 1),   
(3, 1, 2);